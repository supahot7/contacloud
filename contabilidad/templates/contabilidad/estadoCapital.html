{% extends 'base.html' %} {% load static %} {% block title %}Estado de Capital -
Estados Financieros{% endblock %} {% block content %}
<link
  rel="stylesheet"
  href="{% static 'css/contabilidad/estadoCapital.css' %}"
/>

<div class="container py-4">
  <!-- Header -->
  <div class="mb-4 text-center">
    <h1 class="display-5">Estado de Capital</h1>
    <p class="lead">Gesti√≥n del Estado de Capital Contable</p>
  </div>

  <!-- Controles / Filtros -->
  <div class="row mb-3 g-2 align-items-center filtros-grid">
    <div class="col-md-3">
      <label class="form-label">Fecha Inicial</label>
      <input type="date" class="form-control" value="{{ fecha_inicio }}" />
    </div>
    <div class="col-md-3">
      <label class="form-label">Fecha Final</label>
      <input type="date" class="form-control" value="{{ fecha_fin }}" />
    </div>
    <div class="col-md-2">
      <label class="form-label d-block">&nbsp;</label>
      <button class="btn btn-primary w-100">Generar Reporte</button>
    </div>
    <div class="col-md-4 text-end">
      <label class="form-label d-block">&nbsp;</label>
      <button class="btn btn-sm btn-warning me-1">üì§ Exportar</button>
      <button class="btn btn-sm btn-danger">üñ®Ô∏è Imprimir</button>
    </div>
  </div>

  <!-- Tabla de Estado de Capital -->
  <div class="estado-table-container">
    <div class="table-responsive">
      <table class="table table-striped table-hover align-middle estado-table">
        <thead>
          <tr>
            <th>Cuenta</th>
            <th class="text-end col-monto">Monto</th>
          </tr>
        </thead>
        <tbody>
          <!-- CAPITAL INICIAL -->
          <tr class="group-header table-primary">
            <td colspan="2">CAPITAL INICIAL</td>
          </tr>
          <tr class="account-row">
            <td class="cuenta-item">{{ capital_inicial.nombre }}</td>
            <td class="text-end">${{ capital_inicial.monto|floatformat:2 }}</td>
          </tr>

          <!-- AUMENTOS AL CAPITAL -->
          <tr class="group-header table-success">
            <td colspan="2">AUMENTOS AL CAPITAL</td>
          </tr>
          {% for aumento in aumentos_capital %}
          <tr class="account-row">
            <td class="cuenta-item">{{ aumento.nombre }}</td>
            <td class="text-end">${{ aumento.monto|floatformat:2 }}</td>
          </tr>
          {% endfor %}
          <tr class="subtotal-row table-success">
            <td>TOTAL AUMENTOS</td>
            <td class="text-end total-value">
              ${{ total_aumentos|floatformat:2 }}
            </td>
          </tr>

          <!-- DISMINUCIONES AL CAPITAL -->
          <tr class="group-header table-danger">
            <td colspan="2">DISMINUCIONES AL CAPITAL</td>
          </tr>
          {% for disminucion in disminuciones_capital %}
          <tr class="account-row">
            <td class="cuenta-item">{{ disminucion.nombre }}</td>
            <td class="text-end">${{ disminucion.monto|floatformat:2 }}</td>
          </tr>
          {% endfor %}
          <tr class="subtotal-row table-danger">
            <td>TOTAL DISMINUCIONES</td>
            <td class="text-end total-value">
              ${{ total_disminuciones|floatformat:2 }}
            </td>
          </tr>

          <!-- CAPITAL FINAL -->
          <tr class="total-row {{ clase_capital }}">
            <td>{{ nombre_capital_final }}</td>
            <td class="text-end total-value">
              ${{ capital_final|floatformat:2 }}
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Verificaci√≥n de estado -->
  <div class="mt-3 text-center">
    <span class="badge-success">‚úì Estado Generado Correctamente</span>
  </div>
</div>
{% endblock %}
